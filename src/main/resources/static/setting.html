<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FixGenie - Settings</title>
	<link rel="stylesheet" href="style.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
	<link rel="icon" type="image/x-icon" href="image/FG.ico">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        body {
            background-color: #f4f7fa;
            color: #2c3e50;
        }
		/*.username {
		      font-size: 1rem;
		      color: rgb(255, 255, 255);
		      display: flex;
		      align-items: center;
		      gap: 0.5rem;
		    }*/

		    h1 {
		      font-size: 2rem;
		      margin: 2rem 2rem 1.5rem;
		      color: #34495e;
		      animation: fadeIn 1.2s ease-in-out;
		    }

		    .settings-section {
		      background-color: white;
		      border-radius: 12px;
		      padding: 1.5rem 2rem;
		      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
		      margin: 1.5rem 2rem;
		      transition: transform 0.3s ease;
		    }

		    .settings-section:hover {
		      transform: translateY(-3px);
		    }

		    .settings-section h2 {
		      font-size: 1.3rem;
		      color: #2c3e50;
		      margin-bottom: 1rem;
		    }

		    .option {
		      margin-bottom: 1.2rem;
		    }

		    .option label {
		      font-weight: 500;
		      display: block;
		      margin-bottom: 0.4rem;
		    }

		    .option select {
		      padding: 0.5rem;
		      border-radius: 8px;
		      border: 1px solid #ccc;
		      width: 200px;
		    }

		    .toggle-switch {
		      position: relative;
		      display: inline-block;
		      width: 50px;
		      height: 24px;
		    }

		    .toggle-switch input {
		      display: none;
		    }

		    .slider {
		      position: absolute;
		      cursor: pointer;
		      background-color: #ccc;
		      border-radius: 34px;
		      top: 0;
		      left: 0;
		      right: 0;
		      bottom: 0;
		      transition: 0.4s;
		    }

		    .slider::before {
		      content: "";
		      position: absolute;
		      height: 18px;
		      width: 18px;
		      border-radius: 50%;
		      background-color: white;
		      top: 3px;
		      left: 3px;
		      transition: 0.4s;
		    }

		    .toggle-switch input:checked + .slider {
		      background-color: #007BFF;
		    }

		    .toggle-switch input:checked + .slider::before {
		      transform: translateX(26px);
		    }

		    .fun-settings {
		      background-color: #ffffff;
		      padding: 1.5rem 2rem;
		      border-radius: 12px;
		      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
		      margin: 1.5rem 2rem;
		    }

		    .emoji-picker {
		      font-size: 1.4rem;
		      display: flex;
		      gap: 0.8rem;
		      flex-wrap: wrap;
		      margin-bottom: 1rem;
		    }

		    .emoji-picker span {
		      cursor: pointer;
		      transition: transform 0.2s;
		    }

		    .emoji-picker span:hover {
		      transform: scale(1.3);
		    }

		    .selected-emoji {
		      margin-top: 0.5rem;
		      font-size: 1rem;
		      color: #555;
		    }

		    @keyframes fadeIn {
		      from { opacity: 0; transform: translateY(-10px); }
		      to { opacity: 1; transform: translateY(0); }
		    }
    </style>
   
</head>
<body>
	<header class="navbar">
	    <a href="dashboard.html"><img src="image/FIxGenieLogo.svg" alt="FixGenie"></a>
	    <nav>
	      <ul class="nav-links">
	        <li><a href="dashboard.html">Dashboard</a></li>
	        <li><a href="debugger.html">Debugger</a></li>
	        <li><a href="history.html">History</a></li>
	        <li><a href="setting.html">Settings</a></li>
	      </ul>
	    </nav>
	    <a href="profile.html" class="username">üëã Hello!! <span id="display-username">Hello</span> <i class="fa-solid fa-circle-user"></i></a>
	  </header>

	  <h1>‚öôÔ∏è Settings</h1>

	  <div class="settings-section">
	    <h2>üñºÔ∏è Appearance</h2>
	    <div class="option">
	      <label for="theme">Theme</label>
	      <select id="theme">
	        <option>Light</option>
	        <option>Dark</option>
	        <option>Auto</option>
	      </select>
	    </div>
	  </div>

	  <div class="settings-section">
	    <h2>üë§ Account</h2>
	    <div class="option">
	      <label for="language">Language</label>
	      <select id="language">
	        <option>English</option>
	        <option>Hindi</option>
	        <option>Spanish</option>
	      </select>
	    </div>
	    <div class="option">
	      <label>Email Notifications</label>
	      <label class="toggle-switch">
	        <input type="checkbox">
	        <span class="slider"></span>
	      </label>
	    </div>
	    <div class="option">
	      <label>Enable 2FA</label>
	      <label class="toggle-switch">
	        <input type="checkbox">
	        <span class="slider"></span>
	      </label>
	    </div>
	  </div>

	  <div class="settings-section">
	    <h2>üêû Debugging</h2>
	    <div class="option">
	      <label>Auto Fix Suggestions</label>
	      <label class="toggle-switch">
	        <input type="checkbox">
	        <span class="slider"></span>
	      </label>
	    </div>
	    <div class="option">
	      <label>Highlight Code Errors</label>
	      <label class="toggle-switch">
	        <input type="checkbox">
	        <span class="slider"></span>
	      </label>
	    </div>
	    <div class="option">
	      <label>Tooltip Explanations</label>
	      <label class="toggle-switch">
	        <input type="checkbox">
	        <span class="slider"></span>
	      </label>
	    </div>
	    <div class="option">
	      <label for="language-default">Default Programming Language</label>
	      <select id="language-default">
	        <option>Java</option>
	        <option>Python</option>
	        <option>JavaScript</option>
	      </select>
	    </div>
	  </div>

	  <div class="settings-section">
	    <h2>üîî Notifications</h2>
	    <div class="option">
	      <label>Debug Success Alerts</label>
	      <label class="toggle-switch">
	        <input type="checkbox">
	        <span class="slider"></span>
	      </label>
	    </div>
	    <div class="option">
	      <label>Weekly Summaries</label>
	      <label class="toggle-switch">
	        <input type="checkbox">
	        <span class="slider"></span>
	      </label>
	    </div>
	  </div>

	  <div class="settings-section">
	    <h2>‚ú® Genie Customization</h2>
	    <div class="option">
	      <label for="genie-mode">Choose Personality</label>
	      <select id="genie-mode">
	        <option>üßô Wise</option>
	        <option>ü§ì Nerdy</option>
	        <option>üòé Chill</option>
	        <option>ü§ñ Robotic</option>
	      </select>
	    </div>
	    <div class="option">
	      <label>Voice Feedback</label>
	      <label class="toggle-switch">
	        <input type="checkbox">
	        <span class="slider"></span>
	      </label>
	    </div>
	  </div>

	  <div class="fun-settings">
	    <h2>üé® Personalize Your Debug Genie</h2>
	    <p>Pick your companion emoji:</p>
	    <div class="emoji-picker">
	      <span onclick="selectEmoji('üßû‚Äç‚ôÇÔ∏è')">üßû‚Äç‚ôÇÔ∏è</span>
	      <span onclick="selectEmoji('ü§ñ')">ü§ñ</span>
	      <span onclick="selectEmoji('üêû')">üêû</span>
	    </div>
	    <div id="selected-emoji" class="selected-emoji">You selected: üßû‚Äç‚ôÇÔ∏è</div>
	  </div>

	</body>
	</html>
	
	<script >
				document.addEventListener("DOMContentLoaded", function () {
				    const username = localStorage.getItem("username");
				    console.log("Username from localStorage: ", username); // Debugging line
				    if (username) {
				        document.getElementById("display-username").textContent = username;  // Display username
				    } else {
				        document.getElementById("display-username").textContent = "Guest";  // Default to Guest if username is not found
				    }
				});
				 
				
				  // üîÅ Load settings on page load
				  document.addEventListener("DOMContentLoaded", function () {
				    const settings = JSON.parse(localStorage.getItem("fixgenie-settings")) || {};

				    // Username
				    const username = localStorage.getItem("username");
				    document.getElementById("display-username").textContent = username || "Guest";

				    // Restore Theme
				    const themeSelect = document.getElementById("theme");
				    if (settings.theme) {
				      themeSelect.value = settings.theme;
				      applyTheme(settings.theme);
				    }

				    // Restore Dropdowns
				    const selects = ["language", "language-default", "genie-mode"];
				    selects.forEach(id => {
				      if (settings[id]) {
				        document.getElementById(id).value = settings[id];
				      }
				    });

				    // Restore Toggles
				    document.querySelectorAll(".toggle-switch input").forEach(input => {
				      const key = input.closest(".option").querySelector("label").innerText.trim();
				      input.checked = settings[key] || false;
				    });

				    // Restore Emoji
				    if (settings.selectedEmoji) {
				      document.getElementById("selected-emoji").innerText = `You selected: ${settings.selectedEmoji}`;
				    }
				  });

				  // üß† Save settings
				  function saveSettings() {
				    const settings = {
				      theme: document.getElementById("theme").value,
				      language: document.getElementById("language").value,
				      "language-default": document.getElementById("language-default").value,
				      "genie-mode": document.getElementById("genie-mode").value,
				      selectedEmoji: document.getElementById("selected-emoji").innerText.replace("You selected: ", "")
				    };

				    document.querySelectorAll(".toggle-switch input").forEach(input => {
				      const key = input.closest(".option").querySelector("label").innerText.trim();
				      settings[key] = input.checked;
				    });

				    localStorage.setItem("fixgenie-settings", JSON.stringify(settings));
				  }

				  // üåó Apply Theme
				  function applyTheme(theme) {
				    if (theme === "Dark") {
				      document.body.style.backgroundColor = "#1e1e2f";
				      document.body.style.color = "#eee";
				    } else if (theme === "Light") {
				      document.body.style.backgroundColor = "#f4f7fa";
				      document.body.style.color = "#2c3e50";
				    } else {
				      document.body.style.backgroundColor = window.matchMedia('(prefers-color-scheme: dark)').matches ? "#1e1e2f" : "#f4f7fa";
				      document.body.style.color = window.matchMedia('(prefers-color-scheme: dark)').matches ? "#eee" : "#2c3e50";
				    }
				  }

				  // ‚ú® Attach listeners to inputs to auto-save
				  window.onload = function () {
				    document.querySelectorAll("select, .toggle-switch input").forEach(el => {
				      el.addEventListener("change", function () {
				        if (el.id === "theme") {
				          applyTheme(el.value);
				        }
				        saveSettings();
				      });
				    });
				  };

				      function selectEmoji(emoji) {
				          localStorage.setItem("emoji", emoji);
				          document.getElementById('selected-emoji').innerText = `You selected: ${emoji}`;
				      }

				      document.getElementById("theme").addEventListener("change", (e) => {
				          localStorage.setItem("theme", e.target.value);
				          location.reload(); // Re-apply theme
				      });

				      document.getElementById("genie-mode").addEventListener("change", (e) => {
				          localStorage.setItem("genie-mode", e.target.value);
				      });

				      document.getElementById("language").addEventListener("change", (e) => {
				          localStorage.setItem("language", e.target.value);
				      });

				      document.getElementById("language-default").addEventListener("change", (e) => {
				          localStorage.setItem("defaultLang", e.target.value);
				      });

				


				
	</script>
	<script src="settings.js"></script>

	
</body>
</html>
